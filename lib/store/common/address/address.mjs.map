{"version":3,"sources":["../../../../src/store/common/address/address.ts"],"names":["gql","state","address","entities","getters","get","list","mutations","setAddress","payload","setEntities","actions","create","commit","dispatch","rootGetters","mutation","variables","root","accountAddAddress","edit","id","accountEditAddress","remove","accountRemoveAddress"],"mappings":"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","sourcesContent":["import gql from \"graphql-tag\";\r\nimport { MutationTree, GetterTree, ActionTree } from \"vuex\";\r\nimport { AccountAddress } from \"vuefront-api\";\r\nimport { RootState } from \"vuefront-store\";\r\nexport type State = {\r\n  address: AccountAddress;\r\n  entities: AccountAddress[];\r\n};\r\nexport const state: State = {\r\n  address: {},\r\n  entities: [],\r\n};\r\n\r\nexport const getters: GetterTree<State, RootState> = {\r\n  get(state) {\r\n    return state.address;\r\n  },\r\n  list(state) {\r\n    return state.entities;\r\n  },\r\n};\r\n\r\nexport const mutations: MutationTree<State> = {\r\n  setAddress(state, payload) {\r\n    state.address = payload;\r\n  },\r\n  setEntities(state, payload) {\r\n    state.entities = payload;\r\n  },\r\n};\r\n\r\nexport const actions: ActionTree<State, RootState> = {\r\n  async create({ commit, dispatch, rootGetters }, { address }) {\r\n    await dispatch(\r\n      \"apollo/mutate\",\r\n      {\r\n        mutation: gql`\r\n          mutation ($address: AccountAddressInput) {\r\n            accountAddAddress(address: $address) {\r\n              id\r\n              firstName\r\n              lastName\r\n              city\r\n              company\r\n              zipcode\r\n              countryId\r\n              address1\r\n              address2\r\n            }\r\n          }\r\n        `,\r\n        variables: {\r\n          address,\r\n        },\r\n      },\r\n      {\r\n        root: true,\r\n      }\r\n    );\r\n\r\n    if (!rootGetters[\"vuefront/error\"]) {\r\n      commit(\"setAddress\", rootGetters[\"apollo/get\"].accountAddAddress);\r\n\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  },\r\n  async edit({ commit, dispatch, rootGetters }, { id, address }) {\r\n    await dispatch(\r\n      \"apollo/mutate\",\r\n      {\r\n        mutation: gql`\r\n          mutation ($id: String, $address: AccountAddressInput) {\r\n            accountEditAddress(id: $id, address: $address) {\r\n              id\r\n              firstName\r\n              lastName\r\n              city\r\n              company\r\n              zipcode\r\n              address1\r\n              countryId\r\n              address2\r\n            }\r\n          }\r\n        `,\r\n        variables: {\r\n          id,\r\n          address,\r\n        },\r\n      },\r\n      {\r\n        root: true,\r\n      }\r\n    );\r\n\r\n    if (!rootGetters[\"vuefront/error\"]) {\r\n      commit(\"setAddress\", rootGetters[\"apollo/get\"].accountEditAddress);\r\n\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  },\r\n  async remove({ commit, dispatch, rootGetters }, { id }) {\r\n    await dispatch(\r\n      \"apollo/mutate\",\r\n      {\r\n        mutation: gql`\r\n          mutation ($id: String) {\r\n            accountRemoveAddress(id: $id, page: 1, size: -1) {\r\n              id\r\n              firstName\r\n              lastName\r\n              address1\r\n              address2\r\n              zoneId\r\n              zone {\r\n                id\r\n                name\r\n              }\r\n              countryId\r\n              country {\r\n                id\r\n                name\r\n              }\r\n              city\r\n              company\r\n              zipcode\r\n            }\r\n          }\r\n        `,\r\n        variables: {\r\n          id,\r\n        },\r\n      },\r\n      {\r\n        root: true,\r\n      }\r\n    );\r\n\r\n    if (!rootGetters[\"vuefront/error\"]) {\r\n      commit(\"setEntities\", rootGetters[\"apollo/get\"].accountRemoveAddress);\r\n    }\r\n  },\r\n};\r\n"],"file":"address.mjs"}