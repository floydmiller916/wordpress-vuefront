{"version":3,"sources":["../../../../src/store/common/breadcrumbs/breadcrumbs.ts"],"names":["state","items","loaded","getters","get","mutations","setItems","payload","clearItems","setLoaded","actions","init","dispatch","rootGetters","commit","load","contactData","breadcrumbs","length","$router","currentRoute","value","matched","component","instances","default","$options","result","call"],"mappings":"AAWA,OAAO,MAAMA,KAAY,GAAG;AAC1BC,EAAAA,KAAK,EAAE,EADmB;AAE1BC,EAAAA,MAAM,EAAE;AAFkB,CAArB;AAKP,OAAO,MAAMC,OAAqC,GAAG;AACnDC,EAAAA,GAAG,CAACJ,KAAD,EAAQ;AACT,WAAOA,KAAK,CAACC,KAAb;AACD,GAHkD;;AAInDC,EAAAA,MAAM,CAACF,KAAD,EAAQ;AACZ,WAAOA,KAAK,CAACE,MAAb;AACD;;AANkD,CAA9C;AASP,OAAO,MAAMG,SAA8B,GAAG;AAC5CC,EAAAA,QAAQ,CAACN,KAAD,EAAQO,OAAR,EAAiB;AACvBP,IAAAA,KAAK,CAACC,KAAN,GAAcM,OAAd;AACD,GAH2C;;AAI5CC,EAAAA,UAAU,CAACR,KAAD,EAAQO,OAAR,EAAiB;AACzBP,IAAAA,KAAK,CAACC,KAAN,GAAc,EAAd;AACD,GAN2C;;AAO5CQ,EAAAA,SAAS,CAACT,KAAD,EAAQO,OAAR,EAAiB;AACxBP,IAAAA,KAAK,CAACE,MAAN,GAAeK,OAAf;AACD;;AAT2C,CAAvC;AAYP,OAAO,MAAMG,OAAqC,GAAG;AACnDC,EAAAA,IAAI,CAAC;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,WAAZ;AAAyBC,IAAAA;AAAzB,GAAD,EAAoC;AACtCA,IAAAA,MAAM,CAAC,YAAD,CAAN;AACAA,IAAAA,MAAM,CAAC,WAAD,EAAc,KAAd,CAAN;AACD,GAJkD;;AAMnDC,EAAAA,IAAI,CAAC;AAAED,IAAAA;AAAF,GAAD,EAAaE,WAAb,EAA0B;AAC5B,QAAIC,WAAW,GAAG,EAAlB;;AACA,QAAID,WAAW,IAAIA,WAAW,CAACE,MAAZ,GAAqB,CAAxC,EAA2C;AACzCD,MAAAA,WAAW,GAAGD,WAAd;AACD;;AACD,QAAI,KAAKG,OAAL,CAAaC,YAAb,CAA0BC,KAA1B,CAAgCC,OAAhC,CAAwCJ,MAAxC,GAAiD,CAArD,EAAwD;AACtD,YAAMK,SAAS,GACb,KAAKJ,OAAL,CAAaC,YAAb,CAA0BC,KAA1B,CAAgCC,OAAhC,CAAwC,CAAxC,EAA2CE,SAA3C,CAAqDC,OADvD;;AAEA,UACEF,SAAS,KAAK,IAAd,IACA,OAAOA,SAAP,KAAqB,WADrB,IAEA,OAAOA,SAAS,CAACG,QAAjB,KAA8B,WAF9B,IAGAH,SAAS,CAACG,QAAV,KAAuB,IAHvB,IAIA,OAAOH,SAAS,CAACG,QAAV,CAAmBT,WAA1B,KAA0C,WAL5C,EAME;AACA,cAAMU,MAAM,GAAGJ,SAAS,CAACG,QAAV,CAAmBT,WAAnB,CAA+BW,IAA/B,CAAoCL,SAApC,CAAf;AACAN,QAAAA,WAAW,GAAG,CAAC,GAAGA,WAAJ,EAAiB,GAAGU,MAApB,CAAd;AACD;AACF;;AACDb,IAAAA,MAAM,CAAC,UAAD,EAAaG,WAAb,CAAN;AACAH,IAAAA,MAAM,CAAC,WAAD,EAAc,IAAd,CAAN;AACD;;AA3BkD,CAA9C","sourcesContent":["import { MutationTree, GetterTree, ActionTree } from \"vuex\";\r\nimport { RootState } from \"vuefront-store\";\r\ninterface IBreadcrumbs {\r\n  title: string;\r\n  to: string;\r\n}\r\nexport type State = {\r\n  loaded: boolean;\r\n  items: IBreadcrumbs[];\r\n};\r\n\r\nexport const state: State = {\r\n  items: [],\r\n  loaded: false,\r\n};\r\n\r\nexport const getters: GetterTree<State, RootState> = {\r\n  get(state) {\r\n    return state.items;\r\n  },\r\n  loaded(state) {\r\n    return state.loaded;\r\n  },\r\n};\r\n\r\nexport const mutations: MutationTree<State> = {\r\n  setItems(state, payload) {\r\n    state.items = payload;\r\n  },\r\n  clearItems(state, payload) {\r\n    state.items = [];\r\n  },\r\n  setLoaded(state, payload) {\r\n    state.loaded = payload;\r\n  },\r\n};\r\n\r\nexport const actions: ActionTree<State, RootState> = {\r\n  init({ dispatch, rootGetters, commit }) {\r\n    commit(\"clearItems\");\r\n    commit(\"setLoaded\", false);\r\n  },\r\n\r\n  load({ commit }, contactData) {\r\n    let breadcrumbs = [];\r\n    if (contactData && contactData.length > 0) {\r\n      breadcrumbs = contactData;\r\n    }\r\n    if (this.$router.currentRoute.value.matched.length > 0) {\r\n      const component =\r\n        this.$router.currentRoute.value.matched[0].instances.default;\r\n      if (\r\n        component !== null &&\r\n        typeof component !== \"undefined\" &&\r\n        typeof component.$options !== \"undefined\" &&\r\n        component.$options !== null &&\r\n        typeof component.$options.breadcrumbs !== \"undefined\"\r\n      ) {\r\n        const result = component.$options.breadcrumbs.call(component);\r\n        breadcrumbs = [...breadcrumbs, ...result];\r\n      }\r\n    }\r\n    commit(\"setItems\", breadcrumbs);\r\n    commit(\"setLoaded\", true);\r\n  },\r\n};\r\n"],"file":"breadcrumbs.mjs"}